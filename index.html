<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Symbolon ì¹´ë“œ ë¦¬ë”© | ì œì‘ : ì›”í™ğŸŒ™</title>
<style>
  :root{
    --bg:#ffffff; --text:#111827; --muted:#6b7280; --line:#e5e7eb;
    --panel:#f8fafc; --btn:#111827; --btn-ghost:#ffffff; --shadow:0 6px 20px rgba(0,0,0,.08);
  }
  *{box-sizing:border-box}
  body{margin:0; font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR",sans-serif; background:var(--bg); color:var(--text)}
  header{text-align:center; padding:28px 18px 12px}
  header h1{margin:0; font-size:28px}
  header p{margin:6px 0 0; color:var(--muted); font-size:14px}

  .container{max-width:1024px; margin:0 auto; padding:16px}
  .ask{background:var(--panel); border:1px solid var(--line); padding:16px; border-radius:16px; box-shadow:var(--shadow)}
  .ask textarea{width:100%; min-height:72px; resize:vertical; background:#fff; color:var(--text); border:1px solid var(--line); border-radius:12px; padding:12px; outline:none}
  .controls{display:flex; flex-wrap:wrap; gap:10px; margin:14px 0 2px}
  .btn{appearance:none; border:1px solid var(--text); background:var(--btn); color:#fff; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer; transition:.15s}
  .btn:hover{filter:brightness(0.95)}
  .btn.ghost{background:var(--btn-ghost); color:var(--text); border:1px solid var(--line)}
  .btn.sm{padding:6px 10px; font-size:12px; font-weight:600;}

  /* --------------------------------------------------
     ëª©ë¡ ë ˆì´ì•„ì›ƒ
     - ëª¨ë°”ì¼: ê°€ë¡œ ìŠ¤í¬ë¡¤ í•œ ì¤„ (ì¤„ë°”ê¿ˆ X)
     - íƒœë¸”ë¦¿/PC: 3ì—´ ê·¸ë¦¬ë“œ
     -------------------------------------------------- */
  .board{
    display:flex;
    gap:14px;
    margin-top:18px;
    overflow-x:auto;
    padding-bottom:10px;
    scroll-snap-type:x mandatory;
  }
  .card{
    flex:0 0 auto;             /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
    width:170px;               /* ëª¨ë°”ì¼ ì¹´ë“œ ë„ˆë¹„ */
    border:1px solid var(--line);
    border-radius:14px;
    overflow:hidden;
    background:#fff;
    box-shadow:var(--shadow);
    display:flex; flex-direction:column;
    scroll-snap-align:center;
    cursor:pointer;
  }
  /* ì¹´ë“œ í¬ê¸° í†µì¼: ë™ì¼í•œ í”„ë ˆì„ ë†’ì´ + contain(ì˜ë¦¼ ì—†ìŒ) */
  .card-image{
    width:100%;
    height:240px;              /* ëª¨ë“  ì¹´ë“œê°€ ë™ì¼ ë†’ì´ */
    display:flex; align-items:center; justify-content:center;
    background:#fff;
  }
  .card-image img{
    width:100%; height:100%;
    object-fit:contain;        /* ì˜ë¦¼ ë°©ì§€ */
    display:block;
    background:#fff;
  }
  .meta{padding:10px 12px}
  .title{font-size:13px; font-weight:800}
  .subtitle{font-size:11px; color:var(--muted); margin-top:2px}

  /* íƒœë¸”ë¦¿ ì´ìƒì€ ë³´ê¸° í¸í•˜ê²Œ 3ì—´ ê·¸ë¦¬ë“œ */
  @media(min-width:768px){
    .board{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      overflow-x:visible;
      padding-bottom:0;
    }
    .card{width:auto; flex:none;}
  }

  /* â–¼ ì¹´ë“œ ì „ì²´ ëª©ë¡ & í•´ì„¤ íŒ¨ë„ */
  .list-panel{
    margin-top:24px;
    padding:16px;
    border-radius:16px;
    border:1px solid var(--line);
    background:var(--panel);
    box-shadow:var(--shadow);
  }
  .list-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    margin-bottom:12px;
  }
  .list-header h2{
    margin:0;
    font-size:16px;
  }
  .card-list{
    display:flex;
    flex-direction:column;
    gap:8px;
    max-height:360px;
    overflow-y:auto;
    padding-right:4px;
  }
  .card-row{
    width:100%;
    border-radius:12px;
    border:1px solid var(--line);
    background:#fff;
    padding:10px 12px;
    cursor:pointer;
    display:flex;
    flex-direction:column;
    gap:4px;
    text-align:left;
  }
  .card-row:hover{
    background:#f9fafb;
  }
  .card-row-title{
    font-size:13px;
    font-weight:700;
  }
  .card-row-keywords{
    display:flex;
    flex-wrap:wrap;
    gap:4px;
  }
  .card-row-inner{
    font-size:12px;
    color:#374151;
  }

  .list-panel.collapsed .card-list{
    display:none;
  }

  .footer{text-align:center; color:var(--muted); font-size:13px; margin:26px 0 36px}

  /* íŒì—…(ë¼ì´íŠ¸ í†¤) */
  .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center}
  .modal.open{display:flex}
  .overlay{position:absolute; inset:0; background:rgba(17,24,39,.35)}
  .dialog{position:relative; width:min(980px,94%); background:#fff; border:1px solid var(--line); border-radius:18px; box-shadow:0 30px 80px rgba(0,0,0,.15); overflow:hidden}
  .dialog-body{display:grid; grid-template-columns:320px 1fr}
  @media (max-width:840px){.dialog-body{grid-template-columns:1fr}}
  .dialog img{width:100%; height:auto; object-fit:contain; background:#fff}
  .content{padding:18px}
  .pill{display:inline-block; padding:6px 10px; border:1px solid var(--line); border-radius:999px; margin:4px 6px 0 0; font-size:12px; background:#fff; color:#334155}
  .inner{margin-top:10px; background:#fff; border:1px solid var(--line); padding:10px; border-radius:12px; font-size:13px; color:#111827}
  .close{position:absolute; top:10px; right:10px; border:1px solid var(--line); background:#fff; color:var(--text); width:36px; height:36px; border-radius:10px; cursor:pointer}
</style>
</head>
<body>
<header>
  <h1>Symbolon ì¹´ë“œ ë¦¬ë”©</h1>
  <p>í‚¤ì›Œë“œ + ì†ë§ˆìŒ ì¤‘ì‹¬ ê°„ë‹¨ í•´ì„</p>
</header>

<main class="container">
  <section class="ask">
    <textarea id="q" placeholder="ì§ˆë¬¸ì„ ì ì–´ë³´ì„¸ìš” (ì„ íƒì‚¬í•­)"></textarea>
    <div class="controls">
      <button class="btn" id="draw1">1ì¹´ë“œ ë½‘ê¸°</button>
      <button class="btn" id="draw3">3ì¹´ë“œ ë½‘ê¸°</button>
      <button class="btn ghost" id="reset">ì´ˆê¸°í™”</button>
    </div>
  </section>

  <section class="board" id="board"></section>

  <!-- â–¼ ì¹´ë“œ ì „ì²´ ëª©ë¡ & í•´ì„¤ -->
  <section class="list-panel" id="listPanel">
    <div class="list-header">
      <h2>ì¹´ë“œ ëª©ë¡ & í•´ì„¤</h2>
      <button class="btn ghost sm" id="toggleList">ëª©ë¡ ì ‘ê¸°</button>
    </div>
    <div class="card-list" id="cardList"></div>
  </section>

  <div class="footer">ì œì‘ : <strong>ì›”í™ğŸŒ™</strong></div>
</main>

<!-- íŒì—… -->
<div class="modal" id="modal">
  <div class="overlay" id="overlay"></div>
  <div class="dialog">
    <button class="close" id="close" aria-label="ë‹«ê¸°">âœ•</button>
    <div class="dialog-body">
      <img id="mImg" alt="ì„ íƒ ì¹´ë“œ ì´ë¯¸ì§€">
      <div class="content">
        <h3 id="mTitle" style="margin:0 0 6px 0"></h3>
        <div class="k" style="margin-top:4px; color:#334155; font-size:12px">í‚¤ì›Œë“œ</div>
        <div id="mKeywords"></div>
        <div class="k" style="margin-top:12px; color:#334155; font-size:12px">ì†ë§ˆìŒ</div>
        <div class="inner" id="mInner"></div>
      </div>
    </div>
  </div>
</div>

<script>
/* âœ… GitHubì— ì˜¬ë¼ê°„ ì‹¤ì œ íŒŒì¼ëª… ë§¤í•‘ (B ë°©ì‹) */
const FILES = {
  1:"01.The Warrior.JPG", 2:"02.The Lover.JPG", 3:"03.The Mediator.JPG", 4:"04.The Mother.JPG",
  5:"05.The Ego.JPG", 6:"06.The Servitor.JPG", 7:"07.The Partner.JPG", 8:"08.The Seducer.JPG",
  9:"09.The Preacher.JPG", 10:"10.The Master.JPG", 11:"11.The Jester.JPG", 12:"12.The Angel.JPG",
  13:"13.Defiance.JPG", 14:"14.The Two Faces Of Eve.JPG", 15:"15.Articulation.JPG", 16:"16.Incompatibilty.JPG",
  17:"17.Caring.JPG", 18:"18.The Family.JPG", 19:"19.Abortion.JPG", 20:"20.Mnemosyne.JPG",
  21:"21.The Ice Queen.JPG", 22:"22.Deliverance.JPG", 23:"23.Sleeping Beauty-Slumber.JPG", 24:"24.The Battle.JPG",
  25:"25.Queen.JPG", 26:"26.The Actor.JPG", 27:"27.The Ailing King.JPG", 28:"28.The Wedding.JPG",
  29:"29.The Magician.JPG", 30:"30.Fortuna.JPG", 31:"31.The Burden.JPG", 32:"32.The Fall.JPG",
  33:"33.Retreat.JPG", 34:"34.Eros.JPG", 35:"35.The Stocks.JPG", 36:"36.Guilt.JPG",
  37:"37.Disagreement.JPG", 38:"38.The Vampire.JPG", 39:"39.The Crusader.JPG", 40:"40.Prevention.JPG",
  41:"41.The Spiteful Troublemaker.JPG", 42:"42.The Absolute Fool.JPG", 43:"43.The Golden Girl.JPG", 44:"44.Clinging.JPG",
  45:"45.The Gilded Cage.JPG", 46:"46.The Marionette.JPG", 47:"47.Matter and Spirit.JPG", 48:"48.Responsibility For Creation.JPG",
  49:"49.The Farewell.JPG", 50:"50.The Garden of Spirits.JPG", 51:"51.The staregist.JPG", 52:"52.Vanity Fair.JPG",
  53:"53.The Pied Piper.JPG", 54:"54.Master and Disciple.JPG", 55:"55.Affliction.JPG", 56:"56.Dreaming Johnny.JPG",
  57:"57.Silence.JPG", 58:"58.Everyday life in the Relationship.JPG", 59:"59.Castigation.JPG", 60:"60.The Inquisition.JPG",
  61:"61.Fear.JPG", 62:"62.Furies.JPG", 63:"63.Deception.JPG", 64:"64.Disaster.JPG",
  65:"65.The Symbolon.JPG", 66:"66.Sadness.JPG", 67:"67.Separation.JPG", 68:"68.The King's Two Children.JPG",
  69:"69.The Black Mass.JPG", 70:"70.Depression.JPG", 71:"71.The Phoenix.JPG", 72:"72.The False Halo.JPG",
  73:"73.Confession.JPG", 74:"74.The Quantum Leap.JPG", 75:"75.Pythia.JPG", 76:"76.Captivity.JPG",
  77:"77.Moria.JPG", 78:"78.The Question of the Grail.JPG"
};

/* âœ… ì¹´ë“œ ë°ì´í„° (í‚¤ì›Œë“œ + ì†ë§ˆìŒ ìš”ì•½ë³¸) â€” ë¬¸ë²• ì˜¤ë¥˜ ìˆ˜ì • ë²„ì „ */
const CARDS = [
  {"id":1,"title":"ì „ì‚¬","keywords":["ê³µê²©ì„±","ì„±ì·¨","ì •ë³µ","ì„ ë™ì","ì¶œë°œ"],"inner":"ì ê·¹ì„±/ê³µê²©ì„±"},
  {"id":2,"title":"ì—°ì¸","keywords":["ê°€ì¹˜","ë§¤ë ¥","ì†Œìœ ìš•","ì‚¬êµì„±","ë§¤ë ¥"],"inner":"ì‚¬ë‘ë°›ê³  ì‹¶ì€ ë§ˆìŒ"},
  {"id":3,"title":"ì¤‘ì¬ì","keywords":["ë©”ì‹ ì €","ì§€ì  ëŠ¥ë ¥","ì ‘ì´‰","ì‰¬ì›€"],"inner":"ì¤‘ë¦½ì ì¸ ì—°ë½"},
  {"id":4,"title":"ì–´ë¨¸ë‹ˆ","keywords":["ê°ì •","ê°€ì¡±","í—Œì‹ ","ìˆ˜ìš©"],"inner":"ë³´ì‚´í•ŒÂ·ìˆ˜ìš©"},
  {"id":5,"title":"ìì•„","keywords":["í˜","ìš•ë§","ì˜ê´‘","ì°½ì¡°","ì„±ìƒí™œ"],"inner":"ìì¡´ì‹¬Â·ê³ ì§‘"},
  {"id":6,"title":"ë´‰ì‚¬ì","keywords":["í˜„ì‹¤ ìˆ˜ìš©","í•©ë¦¬ì„±","ê· í˜•"],"inner":"í–‰ë™ë ¥ ë¶€ì¡±"},
  {"id":7,"title":"íŒŒíŠ¸ë„ˆ","keywords":["ê´€ê³„","ê· í˜•","ê±°ìš¸"],"inner":"ì¡°í™”Â·ìƒí˜¸ì„±"},
  {"id":8,"title":"ìœ í˜¹ì","keywords":["ì§‘ì°©","ì—´ê´‘","ì§€í•˜ì„¸ê³„"],"inner":"ê°•í•œ ìš•ë§"},
  {"id":9,"title":"ì„¤êµì","keywords":["ì‹ ë…","í†µì°°","ì„±ì§ì"],"inner":"ë‚´ ìƒê°ì´ ì˜³ë‹¤ê³  ëŠë‚Œ"},
  {"id":10,"title":"ì¥ì¸","keywords":["ì±…ì„","ìš´ëª…","ë…¸ì¸","ê´€ë¦¬ì"],"inner":"ìœµí†µì„± ë¶€ì¡±"},
  {"id":11,"title":"ê´‘ëŒ€","keywords":["ììœ ","ì•„ì›ƒì‚¬ì´ë”"],"inner":"ììœ  ì¶”êµ¬"},
  {"id":12,"title":"ì²œì‚¬","keywords":["ì§„ì‹¤","ì§ê°","í™˜ìƒ"],"inner":"ë‹¨ë…Â·í¬ê¸°"},
  {"id":13,"title":"ë°˜í•­","keywords":["ë¶„ë…¸","ë„ë§","ì–´ë¨¸ë‹ˆì— ëŒ€í•œ ë¯¸ì›€"],"inner":"ì„­ì„­í•¨/í™”ë‚¨"},
  {"id":14,"title":"ì´ë¸Œì˜ ë‘ ì–¼êµ´","keywords":["ì—­í• ê°ˆë“±","ë³µì¡í•œ ê°ì •"],"inner":"ì„ íƒì¥ì• "},
  {"id":15,"title":"ì˜ì‚¬í‘œí˜„","keywords":["ê°ì •í† ë¡ ","ì ‘ì´‰"],"inner":"ê°ì •ì„ ë§ ëª»í•¨"},
  {"id":16,"title":"ì–‘ë¦½ë¶ˆê°€","keywords":["ë‚™ì› ì¶”ë°©","ëŒ€ë¦½"],"inner":"ê´€ì  ì°¨ì´"},
  {"id":17,"title":"ë³´ì‚´í•Œ","keywords":["ë™ì •","ë¬¸ì œì•„ì´","ë³´ì‚´í•Œ ì¦í›„êµ°"],"inner":"ê³¼ì‰ë³´í˜¸"},
  {"id":18,"title":"ê°€ì¡±","keywords":["ìš°ë¦¬","ê²°í•©"],"inner":"ì±…ì„ê°"},
  {"id":19,"title":"ë‚™íƒœ","keywords":["í¬ìƒëœ ì—¬ì„±ì„±","ì •ì‹ ì  ì˜ì¡´","ìš°ìš¸","ì–´ë¨¸ë‹ˆë¼ëŠ” ì˜ë¯¸"],"inner":"ë²„ë¦¬ë‹¤/ë˜ì§€ë‹¤"},
  {"id":20,"title":"ë¯€ë„¤ëª¨ì‹œë„¤","keywords":["ê¸°ì–µ","ì˜í˜¼ í†µì°°"],"inner":"í˜„ì‹¤ íšŒí”¼"},
  {"id":21,"title":"ì–¼ìŒì—¬ì™•","keywords":["ëƒ‰ì •","ì£„ì±…ê°","ìš°ìš¸"],"inner":"ë²½ì¹˜ê³  ì™¸ë¡œì›€"},
  {"id":22,"title":"í•´ë°©","keywords":["ë¹„ì •í•œ ììœ ","ì¶”ë°©","ìƒˆ ì‹œì‘"],"inner":"ë³€í™”ë¥¼ ì›í•˜ëŠ” ë§ˆìŒ"},
  {"id":23,"title":"ì ìëŠ” ë¯¸ë…€","keywords":["ê¸°ë‹¤ë¦¼","ë¬´ì˜ì‹"],"inner":"í–‰ë™í•˜ì§€ ì•ŠìŒ"},
  {"id":24,"title":"ì „íˆ¬","keywords":["í˜ê²¨ë£¨ê¸°","ì„€ë„ìš° ë³µì‹±"],"inner":"ê¸°ì‹¸ì›€"},
  {"id":25,"title":"ì—¬ì™•","keywords":["ê°ì„±ì  ë§¤ë ¥"],"inner":"ìì¡´ì‹¬Â·ë§¤ë ¥ ì‚¬ìš©"},
  {"id":26,"title":"ë°°ìš°","keywords":["ì—­í• ","ê±°ì§“ ì •ì²´ì„±"],"inner":"ì—°ê¸°/ê°€ë©´"},
  {"id":27,"title":"ë³‘ë“  ì™•","keywords":["ìš°ìš¸","ë„í”¼","ì˜ìš•ì €í•˜"],"inner":"ì§€ì¹¨Â·ë¬´ê¸°ë ¥"},
  {"id":28,"title":"ê²°í˜¼","keywords":["ì‚¬ë‘","ì»¤í”Œ","í¬ì—´"],"inner":"ê´€ê³„ ì¤‘ì‹¬"},
  {"id":29,"title":"ë§ˆë²•ì‚¬","keywords":["ì°½ì¡°","ì§‘ì¤‘","ì™„ë²½ì£¼ì˜"],"inner":"ê³¼ëª°ì…"},
  {"id":30,"title":"í–‰ìš´","keywords":["ê¸ì •","ì‹ ë¢°"],"inner":"ê¸ì •ì ì¸ ìƒê°"},
  {"id":31,"title":"ì§","keywords":["ì±…ì„","ìœ¤ë¦¬","ë¶€ë‹´"],"inner":"ë¬´ê±°ì›€"},
  {"id":32,"title":"ëª°ë½","keywords":["ì¶”ë½","í˜ ìƒì‹¤"],"inner":"ìì¡´ì‹¬ ìƒí•¨"},
  {"id":33,"title":"í›„í‡´","keywords":["ì¡´ì¬ ìœ„ê¸°","ë„í”¼"],"inner":"íšŒí”¼"},
  {"id":34,"title":"ì‚¬ë‘","keywords":["ì„±ì  ë§¤ë ¥","ìœ¡ì²´ì  ì ‘ì´‰"],"inner":"ì• ì •Â·ìœ¡ì²´ì„±"},
  {"id":35,"title":"í˜•í‹€","keywords":["ê°€ì‹­","ëª…ì˜ˆí›¼ì†"],"inner":"í—˜ë‹´, ë¹„ë‚œ"},
  {"id":36,"title":"ì£„ì±…ê°","keywords":["ê°€í•´ì-í”¼í•´ì","ê²°ë°±"],"inner":"ì£„ì±…ê°"},
  {"id":37,"title":"ë¶ˆì¼ì¹˜","keywords":["ì‹¸ì›€","ì¶©ëŒ"],"inner":"ì¶©ëŒÂ·ì„  ê¸‹ê¸°"},
  {"id":38,"title":"ë±€íŒŒì´ì–´","keywords":["í¬ìƒì","ê²°ë°•"],"inner":"ì¤‘ë…/ì§‘ì°©ì˜ ìƒíƒœ"},
  {"id":39,"title":"ì‹­ìêµ°","keywords":["í–‰ë™ë ¥","ì„¤ë“ì˜ í˜"],"inner":"ì ê·¹ì„±Â·ê³µê²©ì„±"},
  {"id":40,"title":"ì˜ˆë°©","keywords":["ì¥ì• ë¬¼","êµ´ë ˆ"],"inner":"ì´ëŸ¬ì§€ë„ ì €ëŸ¬ì§€ë„ ëª»í•¨"},
  {"id":41,"title":"ì•…ì˜ì ì¸ ë§ì½ìŸì´","keywords":["íŠ¸ëŸ¬ë¸”ë©”ì´ì»¤","ì‚¬ê¸°ê¾¼"],"inner":"ì—‰ëš±í•œ/ìê¸°ê°€ ë†€ëŒ"},
  {"id":42,"title":"ì™„ë²½í•œ ë°”ë³´","keywords":["íŒ¨ë°°ì","ë¬´ê¸°ë ¥"],"inner":"ì§€ì¹¨"},
  {"id":43,"title":"í™©ê¸ˆ ì†Œë…€","keywords":["ë§ì€ ì—¬ì","ë¹„êµ"],"inner":"ê²½ìŸì˜ì‹"},
  {"id":44,"title":"ì§‘ì°©","keywords":["ì•ˆì „","ë¬¼ì§ˆ"],"inner":"ë¬¼ì§ˆì  ì§‘ì°©"},
  {"id":45,"title":"í™©ê¸ˆìƒˆì¥","keywords":["êµ¬ì†","ì†Œìœ ","ì§ˆíˆ¬"],"inner":"êµ¬ì†/ì†Œìœ ìš•"},
  {"id":46,"title":"ê¼­ë‘ê°ì‹œ","keywords":["ì›ê²© ì¡°ì¢…","ì™¸ëª¨","ì†Œìœ ë¨"],"inner":"ìˆ˜ë™ì "},
  {"id":47,"title":"ë¬¼ì§ˆê³¼ ì˜í˜¼","keywords":["ê¸°ë¸Œì•¤í…Œì´í¬"],"inner":"ê³„ì‚°ì  ê´€ê³„"},
  {"id":48,"title":"ì°½ì¡°ì— ëŒ€í•œ ì±…ì„","keywords":["ëŒë´„","ê´€ì‹¬","ì•½ì"],"inner":"ì˜¤ì§€ë–/ë³´ì‚´í•Œ"},
  {"id":49,"title":"ì‘ë³„","keywords":["ë¶•ê´´","ë°°ì‹ "],"inner":"ì¿¨í•œ ì´ë³„"},
  {"id":50,"title":"ì˜í˜¼ì˜ ì •ì›","keywords":["ë¬¼ì§ˆ ë¬´ê´€ì‹¬","í’ì"],"inner":"í—›ëœ í¬ë§"},
  {"id":51,"title":"ì „ëµê°€","keywords":["ì™¸êµ","ê³„ì‚°","ì¸ê³¼"],"inner":"ì „ëµÂ·ê³„ì‚°"},
  {"id":52,"title":"í—ˆì˜ì˜ ì‹œì¥","keywords":["ë¶€ëŸ¬ì›€","ë³´ì—¬ì£¼ê¸°"],"inner":"í—ˆì˜ì‹¬"},
  {"id":53,"title":"í”¼ë¦¬ë¶€ëŠ” ì‚¬ë‚˜ì´","keywords":["ìœ í˜¹","ë§ì¬ì£¼"],"inner":"ë§ë¡œ ì†ì„/í™€ë¦¼"},
  {"id":54,"title":"ìŠ¤ìŠ¹ê³¼ ì œì","keywords":["ì˜ì  ì°¨ì´","ì‚¬ê¸°ê¾¼"],"inner":"ê°‘ê³¼ ì„"},
  {"id":55,"title":"ê³ í†µ","keywords":["ë°˜ì˜","ëª…í™•í™”"],"inner":"ì†Œí†µ ë¬¸ì œ"},
  {"id":56,"title":"ê¿ˆê¾¸ëŠ” ë‚¨ì","keywords":["ë¬´ëª¨í•¨","ììœ  ì‚¬ê³ "],"inner":"ê²½ì†”/ëŒ€ì±…ì—†ìŒ"},
  {"id":57,"title":"ì¹¨ë¬µ","keywords":["ë¹„ë°€","ë¬´ê´€ì‹¬"],"inner":"ë§í•˜ì§€ ì•ŠìŒ"},
  {"id":58,"title":"ì¼ìƒì  ê´€ê³„","keywords":["ê¶Œíƒœ","ì¹¨ì‹"],"inner":"ë¬´ê¸°ë ¥/ê´€ê³„ ì§€ì¹¨"},
  {"id":59,"title":"ìì±…","keywords":["ê°•ë°•","ì´ìƒì¶”êµ¬"],"inner":"í›„íšŒ/ìì±…"},
  {"id":60,"title":"ì¢…êµì¬íŒ","keywords":["ë¹„ë‚œ","ì£„ì¸ ì°¾ê¸°"],"inner":"ëˆ„ê°€ ì˜³ì€ê°€ ì‹¸ì›€"},
  {"id":61,"title":"ê³µí¬Â·ë‘ë ¤ì›€","keywords":["ìš´ëª… ì§€ë°°","ë°”ê¿€ ìˆ˜ ì—†ìŒ"],"inner":"ë†€ëŒÂ·ë„í”¼"},
  {"id":62,"title":"ë³µìˆ˜ì˜ ì—¬ì‹ ","keywords":["ì–´ë‘ ","ìš´ëª…","ë‘ë ¤ì›€"],"inner":"ê°•í•œ ë¶„ë…¸"},
  {"id":63,"title":"ì†ì„ìˆ˜","keywords":["ê±°ì§“","ì‚¬ê¸°","ë°˜ì¹™"],"inner":"ì†ì„/ê¸°ë§Œ"},
  {"id":64,"title":"ì¬ì•™","keywords":["ì§€ì˜¥","ë…¸ì˜ˆí™”","ì¤‘ë…"],"inner":"ì§‘ì°©Â·ì¤‘ë…"},
  {"id":65,"title":"ì‹¬ë³¼ë¡ ","keywords":["ê´€ê³„ ì˜ë¯¸","ì„œì•½"],"inner":"íŒŒíŠ¸ë„ˆì‹­"},
  {"id":66,"title":"ìŠ¬í””","keywords":["ë²„ë ¤ì§","ì• ë„","ì™¸ë¡œì›€"],"inner":"ìƒëŒ€ë¡œ ì¸í•œ ìƒì²˜"},
  {"id":67,"title":"ì´ë³„","keywords":["í•´ë°©","íƒˆì¶œ","ë‹¨ì ˆ"],"inner":"í•´ë°©"},
  {"id":68,"title":"ì™•ì˜ ë‘ ìë…€","keywords":["ë¡œë§¨ìŠ¤","ê¿ˆ","í™˜ìƒ"],"inner":"ê·¸ë¦¬ì›€/ì• í‹‹"},
  {"id":69,"title":"ê²€ì€ ë¬´ë¦¬","keywords":["ë„ê·¸ë§ˆ","ê´‘ì‹ ","í™•ì‹ "],"inner":"ê´‘ì ì¸ ë¯¿ìŒ"},
  {"id":70,"title":"ìš°ìš¸","keywords":["ë«","ë§ì—°ìì‹¤","ì–´ë‘ìš´ ë©´"],"inner":"ìš°ìš¸/í˜¼ì ê³ ë¯¼"},
  {"id":71,"title":"ë¶ˆì‚¬ì¡°","keywords":["ì£½ìŒ/ë¶€í™œ","ë¶•ê´´","í•´ë°©"],"inner":"ë‚¡ì€ ê²ƒ íŒŒê´´ í›„ ìƒˆì¶œë°œ"},
  {"id":72,"title":"ê±°ì§“ëœ í›„ê´‘","keywords":["ìœ„ì„ ","ê°€ë©´","ê³µì •"],"inner":"ê²‰ê³¼ ì† ë‹¤ë¦„"},
  {"id":73,"title":"ê³ í•´","keywords":["ê³ ë°±","ì •í™”","í†µì°°"],"inner":"ë¯¸ì•ˆí•¨/ì‚¬ê³¼"},
  {"id":74,"title":"ì–‘ì ë„ì•½","keywords":["ë³€í™”","ë„ì•½","ë¯¸ì§€"],"inner":"ìƒˆë¡œìš´ ì‹œì‘"},
  {"id":75,"title":"í”¼í‹°ì•„","keywords":["ì§ê´€","ì ì„±","ì‹ íƒ"],"inner":"ì§€ì¼œë´„Â·ì¡°ì–¸"},
  {"id":76,"title":"ê°ê¸ˆ","keywords":["ì •ì²´","ì–µì••"],"inner":"ë‹µë‹µí•¨/ë©ˆì¶¤"},
  {"id":77,"title":"ëª¨ì´ë¼","keywords":["ì§€í˜œ","ë¬´ë ¥ê°","ìˆ˜ìš©"],"inner":"ëŠì§€ëª»í•¨"},
  {"id":78,"title":"ì„±ë°°ì˜ ì§ˆë¬¸","keywords":["ê·¼ì›ì˜ ë¬¸ì œ","ë¬´ì˜ì‹","íƒêµ¬"],"inner":"ë‚´ë©´ì˜ ê¹¨ë‹¬ìŒ/ê¸°íšŒ"}
];

/* ì¹´ë“œ ë½‘ê¸° */
function pick(n){
  const pool=[...CARDS], out=[];
  while(out.length<n && pool.length){
    const i=Math.floor(Math.random()*pool.length);
    out.push(pool.splice(i,1)[0]);
  }
  return out;
}

/* ë Œë”ë§ */
const board=document.getElementById('board');
function render(cards){
  board.innerHTML='';
  cards.forEach(card=>{
    const el=document.createElement('div');
    el.className='card';
    el.innerHTML=`
      <div class="card-image">
        <img src="./${FILES[card.id]}" alt="${card.title}">
      </div>
      <div class="meta">
        <div class="title">${card.title}</div>
        <div class="subtitle">#${card.id}</div>
      </div>`;
    el.addEventListener('click',()=>openModal(card));
    board.appendChild(el);
  });
}

/* â–¼ ì „ì²´ ì¹´ë“œ ëª©ë¡ ë Œë”ë§ */
const cardList = document.getElementById('cardList');
const listPanel = document.getElementById('listPanel');
const toggleListBtn = document.getElementById('toggleList');

function renderCardList(){
  cardList.innerHTML = '';
  CARDS.forEach(card=>{
    const row = document.createElement('button');
    row.type = 'button';
    row.className = 'card-row';
    row.innerHTML = `
      <div class="card-row-title">#${card.id} ${card.title}</div>
      <div class="card-row-keywords">
        ${(card.keywords || []).map(k=>`<span class="pill">${k}</span>`).join('')}
      </div>
      <div class="card-row-inner">${card.inner || ''}</div>
    `;
    row.addEventListener('click',()=>openModal(card));
    cardList.appendChild(row);
  });
}

toggleListBtn.addEventListener('click',()=>{
  const collapsed = listPanel.classList.toggle('collapsed');
  toggleListBtn.textContent = collapsed ? 'ëª©ë¡ í¼ì¹˜ê¸°' : 'ëª©ë¡ ì ‘ê¸°';
});

/* íŒì—… */
const modal=document.getElementById('modal');
const overlay=document.getElementById('overlay');
const closeBtn=document.getElementById('close');
const mImg=document.getElementById('mImg');
const mTitle=document.getElementById('mTitle');
const mKeywords=document.getElementById('mKeywords');
const mInner=document.getElementById('mInner');

function openModal(card){
  mImg.src=`./${FILES[card.id]}`;
  mTitle.textContent=`${card.title} (#${card.id})`;
  mKeywords.innerHTML=(card.keywords||[]).map(k=>`<span class="pill">${k}</span>`).join('');
  mInner.textContent=card.inner||'';
  modal.classList.add('open');
}
function closeModal(){ modal.classList.remove('open'); }
overlay.addEventListener('click',closeModal);
closeBtn.addEventListener('click',closeModal);
window.addEventListener('keydown',e=>{ if(e.key==='Escape') closeModal(); });

/* ë²„íŠ¼ */
document.getElementById('draw1').onclick=()=>render(pick(1));
document.getElementById('draw3').onclick=()=>render(pick(3));
document.getElementById('reset').onclick=()=>{ board.innerHTML=''; };

/* ì´ˆê¸°: ì•„ë¬´ ì¹´ë“œë„ ì•ˆ ë³´ì´ê²Œ + ëª©ë¡ ë Œë”ë§ */
render([]);
renderCardList();
</script>
</body>
</html>
